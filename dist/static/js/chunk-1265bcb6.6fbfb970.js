(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1265bcb6"],{5058:function(e,t,a){},a254:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"order"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"pan-box"},[a("div",{staticClass:"pan-name"},[e._v("查询条件")]),e._v(" "),a("div",{staticClass:"pan-form"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"下单日期"}},[a("el-date-picker",{staticStyle:{width:"280px"},attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"medium","value-format":"yyyy-MM-dd","default-time":["00:00:00","23:59:59"]},model:{value:e.searchCond.orderDateTime,callback:function(t){e.$set(e.searchCond,"orderDateTime",t)},expression:"searchCond.orderDateTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"影片名称"}},[a("el-input",{attrs:{placeholder:"影片名称",size:"medium"},model:{value:e.searchCond.film_name,callback:function(t){e.$set(e.searchCond,"film_name",t)},expression:"searchCond.film_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{attrs:{placeholder:"订单号",size:"medium"},model:{value:e.searchCond.order_num,callback:function(t){e.$set(e.searchCond,"order_num",t)},expression:"searchCond.order_num"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户"}},[a("el-input",{attrs:{placeholder:"用户",size:"medium"},model:{value:e.searchCond.username,callback:function(t){e.$set(e.searchCond,"username",t)},expression:"searchCond.username"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.search}},[e._v("查询")])],1)],1)],1)])])],1),e._v(" "),a("div",{staticClass:"content-box"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.listFormat,stripe:"","element-loading-text":"Loading"}},[a("el-table-column",{attrs:{prop:"username",label:"用户",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"order_num",label:"订单号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"order_datetime",label:"下单日期",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"film_name",label:"影片名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cinema_name",label:"影院名称",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"screen_name",label:"影厅",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"seat",label:"购买张数",width:"80",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"total_price",label:"订单金额（元）",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_price",label:"支付金额（元）",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serve_price",label:"服务费（元）",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"订单状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:{payed:"已支付"==t.row.status,unpay:"未支付"==t.row.status,refund:"已退款"==t.row.status,closed:"已关闭"==t.row.status}},[e._v("\n          "+e._s(t.row.status)+"\n        ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.view(t.row)}}},[e._v("查看")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"page-wrap"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.pageInfo.page,"page-size":e.pageInfo.page_size,total:e.pageInfo.total},on:{"current-change":e.changePage}})],1)],1)},r=[],o=(a("2338"),a("fb37"),a("f763"),a("a506")),l=a("b775");function c(e){return Object(l["a"])({url:"/api/getOrder",method:"get",params:e})}var i=a("ed08");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(a,!0).forEach(function(t){Object(o["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var d={data:function(){return{list:[],listLoading:null,searchCond:{orderDateTime:[Object(i["b"])(new Date,"YMD"),Object(i["b"])(new Date,"YMD")],film_name:"",order_num:"",username:""},pageInfo:{page:1,page_size:10,total:null},ORDER_STATUS:{0:"未支付",1:"已支付",2:"已退款",3:"已关闭"}}},mounted:function(){this.getOrderList()},methods:{getOrderList:function(){var e=this;this.listLoading=!0,c(u({},this.searchCond,{},this.pageInfo)).then(function(t){var a=t.data;t.mag,t.code;e.list=a.list,e.pageInfo.total=a.total,e.listLoading=!1})},search:function(){this.pageInfo.page=1,this.getOrderList()},changePage:function(e){this.pageInfo.page=e,this.getOrderList()},view:function(){this.$router.push({name:"order-detail"})}},computed:{listFormat:function(){var e=this;return this.list.forEach(function(t){t.status=e.ORDER_STATUS[t.status],t.seat=t.seat.length}),this.list}}},p=d,m=(a("d482"),a("6691")),f=Object(m["a"])(p,n,r,!1,null,null,null);t["default"]=f.exports},d482:function(e,t,a){"use strict";var n=a("5058"),r=a.n(n);r.a},ed08:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"c",function(){return o}),a.d(t,"a",function(){return l});a("f763"),a("3b54"),a("df36"),a("7bc1"),a("34a3"),a("0857"),a("9090");function n(e){return 1*e<10?"0"+e:e}var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YMDhms",a=null;a="[object Date]"==Object.prototype.toString.call(e)?e:e/1e10<1?1e3*e:e;var r=new Date(a),o=r.getFullYear(),l=n(r.getMonth()+1),c=n(r.getDate()),i=n(r.getHours()),s=n(r.getMinutes()),u=n(r.getSeconds()),d=new Map([["Y",o],["M",l],["D",c],["h",i],["hm","".concat(i,":").concat(s)],["hms","".concat(i,":").concat(s,":").concat(u)],["YM","".concat(o,"-").concat(l)],["YMD","".concat(o,"-").concat(l,"-").concat(c)],["YMDhms","".concat(o,"-").concat(l,"-").concat(c," ").concat(i,":").concat(s,":").concat(u)],["YMDhm","".concat(o,"-").concat(l,"-").concat(c," ").concat(i,":").concat(s)]]);return d.get(t)},o=function(e){var t=e.replace(/-/g,"/");return new Date(t).getTime()},l=function(e,t,a){var n=a[t]?a[t]:a,r="";return e.forEach(function(a,o){a[t]==n&&(r=e.splice(o,1))}),r}}}]);